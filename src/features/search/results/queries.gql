fragment RepoFields on Repository {
  id
  name
  url
  owner {
    login
  }
  updatedAt
  primaryLanguage {
    name
    color
  }
  viewerHasStarred
}

fragment UserFields on User {
  id
  login
  bio
  avatarUrl
  viewerIsFollowing
}

query Search($query: String!, $type: SearchType!, $after: String!) {
  search(query: $query, type: $type, first: 10, after: $after) {
    userCount
    repositoryCount
    edges {
      node {
        ...RepoFields
        ...UserFields
      }
    }
  }
}
